# MCP Servers Configuration

This document describes the Model Context Protocol (MCP) servers configured for Claude Code in this project.

## Configuration File

**Location:** `.mcp.json`

## Environment Variables

Some servers require API keys stored in `.env.local`:

| Variable | Server | How to Get |
|----------|--------|------------|
| `FIGMA_API_KEY` | figma | Figma > Settings > Personal access tokens |
| `GITHUB_TOKEN` | github | GitHub > Settings > Developer settings > Personal access tokens |

## Configured Servers

### context7

Up-to-date library documentation retrieval.

```json
"context7": {
  "command": "cmd",
  "args": ["/c", "npx", "-y", "dotenv-cli", "-e", ".env.local", "--", "npx", "-y", "@upstash/context7-mcp@latest"],
  "description": "Context7 for up-to-date library documentation"
}
```

**Capabilities:**

- Resolve library IDs for documentation lookup
- Fetch current documentation for any library
- Context-aware code examples

### figma

Design extraction for PBI-driven development.

```json
"figma": {
  "command": "cmd",
  "args": ["/c", "npx", "-y", "dotenv-cli", "-e", ".env.local", "--", "npx", "-y", "@anthropic/mcp-server-figma", "--stdio"],
  "description": "Figma design extraction for PBI-driven development"
}
```

**Setup:** See [.claude/docs/figma-setup.md](.claude/docs/figma-setup.md)

**Capabilities:**

- Extract colors, typography, spacing from Figma designs
- Get component hierarchy and structure
- Auto-populate design specs from Figma links in PBIs

**Related Commands:**

- `/figma-extract {url}` - Extract specs from Figma URL
- `/design-spec {pbi}` - Auto-detects `figma_link` in PBI frontmatter

### github

GitHub API integration.

```json
"github": {
  "command": "cmd",
  "args": ["/c", "npx", "-y", "dotenv-cli", "-e", ".env.local", "--", "npx", "-y", "@modelcontextprotocol/server-github"]
}
```

**Capabilities:**

- Search repositories, code, issues, users
- Create/update files, branches, PRs
- Manage issues and comments
- Fork repositories

### memory

Knowledge graph for persistent memory across sessions.

```json
"memory": {
  "command": "cmd",
  "args": ["/c", "npx", "-y", "@modelcontextprotocol/server-memory"],
  "description": "Persistent memory for cross-session knowledge"
}
```

**Capabilities:**

- Create and manage entities
- Create relations between entities
- Add observations to entities
- Search and query the knowledge graph

### sequential-thinking

Step-by-step problem solving and analysis.

```json
"sequential-thinking": {
  "command": "cmd",
  "args": ["/c", "npx", "-y", "@modelcontextprotocol/server-sequential-thinking"],
  "description": "Extended thinking for complex problem solving"
}
```

**Capabilities:**

- Break down complex problems into steps
- Revise and branch thinking paths
- Generate and verify hypotheses
- Track multi-step reasoning

## Usage

MCP servers auto-load when Claude Code starts. Requirements:

- Node.js and npx in PATH
- `.env.local` with required API keys (for figma, github, context7)

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Server not loading | Check Node.js/npx in PATH |
| API key errors | Verify `.env.local` has correct keys |
| Rate limits | Check API quota (Figma free: 6/month) |
